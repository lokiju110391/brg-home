/*
    GNOME Shell extensions repository
    Copyright (C) 2011-2012  Jasper St. Pierre <jstpierre@mecheye.net>
    Copyright (C) 2016-2017  Yuri Konotopov <ykonotopov@gnome.org>

    This program is free software: you can redistribute it and/or modify
    it under the terms of the GNU Affero General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.
 */

define(['jquery', 'messages', 'dbus!_', 'extensionUtils', 'templates', 'paginator', 'switch'],
	function ($, messages, dbusProxy, extensionUtils, templates) {
		"use strict";

		var ExtensionState = extensionUtils.ExtensionState;

		$.fn.buildShellVersionsInfo = function () {
			return this.each(function () {
				var $table = $(this);
				var $tbody = $table.find('tbody');
				var $extension = $table.parents('.extension');

				$tbody.children().remove();

				var svm = $extension.data('svm');
				for (var version in svm)
				{
					if (!svm.hasOwnProperty(version))
					{
						continue;
					}

					var vpk = extensionUtils.grabProperExtensionVersion(svm, version);
					var $tr = $('<tr>').appendTo($tbody);
					$('<td>').append($('<code>').text(version)).appendTo($tr);
					$('<td>').text(vpk.version).appendTo($tr);
				}
			});
		};

		$.fn.addDownloadOptions = function () {
			return this.each(function () {
				let $extension = $(this);
				let $extension_download = $extension.find('.extension-download');
				let $shell_version_select = $extension.find('select.shell-version');
				let extension_versions = $extension.data('versions');
				let uuid = $extension.data('uuid');

				if(!extension_versions)
				{
					return;
				}

				let shell_versions = Object.keys(extension_versions);
				shell_versions.sort(extensionUtils.shellVersionCompare).reverse();

				for(let shell_version of shell_versions)
				{
					$shell_version_select.append(
						$('<option />').val(shell_version).text(shell_version)
					);
				}

				$extension.on('change', 'select.shell-version', function(event) {
					let $extension_version_select = $extension_download.find('select.extension-version');
					$extension_version_select.find('option:not(:first)').remove();

					if($(this).prop('selectedIndex'))
					{
						let shell_version = $(this).val();
						for (let extension_version_pk in extension_versions[shell_version])
						{
							$extension_version_select.append(
								$('<option />').val(extension_version_pk).text(extension_versions[shell_version][extension_version_pk].version)
							);
						}
					}
					$extension_download.toggleClass('shell-selected', !!$(this).prop('selectedIndex'));
				});

				$extension.on('change', 'select.extension-version', function(event) {
					if($(this).prop('selectedIndex'))
					{
						window.location = '/download-extension/'
							+ encodeURIComponent(uuid) + '.shell-extension.zip?version_tag='
							+ encodeURIComponent($(this).val());
					}
				});
			});
		};

		// While technically we shouldn't have mismatched API versions,
		// the plugin doesn't check whether the Shell matches, so if someone
		// is running with an old Shell version but a newer plugin, error out.
		if (dbusProxy.IsDummy)
		{
			// We don't have a proper DBus proxy, however API may be exported.
			// If API is exported let's assume that browser extension is installed and will handle errors.
			if(!window.SweetTooth || typeof(window.SweetTooth.initialize) !== 'function')
			{
				if (IS_CHROME || IS_FIREFOX || IS_OPERA) // browser_extension.js should be included globally
				{
					// Help user to install browser extension for supported browsers
					messages.addInfo(templates.get('messages/browser_extension')());
				}
				else
				{
					messages.addError(templates.get('messages/dummy_proxy')());
				}
			}

			$.fn.addExtensionSwitch = function () {
				// Don't show our switches -- CSS styles define a clickable
				// area even with no content.
				return this.find('.switch').hide();
			};

			$.fn.addLocalExtensions = function () {
				return this.append(templates.get('messages/cannot_list_local')());
			};

			$.fn.fillInErrors = function () {
				var $textarea = this.find('textarea[name=error]');
				var $hidden = this.find('input:hidden[name=has_errors]');
				$textarea.text(templates.get('messages/cannot_list_errors')()).addClass('no-errors').attr('disabled', 'disabled');
				$hidden.val('');
				return this;
			};

			$.fn.grayOutIfOutOfDate = function () {
				return this;
			};

			return;
		}

		// uuid => elem
		var elems = {};

		function extensionStateChanged(uuid, newState) {
			if (elems[uuid] !== undefined)
			{
				elems[uuid].trigger('state-changed', newState);
			}
		}

		function extensionTypeChanged(uuid, newType) {
			if (elems[uuid] !== undefined)
			{
				if(elems[uuid].data('type') != newType)
				{
					elems[uuid].trigger('type-changed', newState);
				}
			}
		}

		dbusProxy.extensionStateChangedHandler = extensionStateChanged;

		dbusProxy.shellRestartHandler = function () {
			dbusProxy.ListExtensions().then(function (extensions) {
				$.each(extensions, function () {
					extensionStateChanged(this.uuid, this.state);
					extensionTypeChanged(this.uuid, this.type);
				});
			});
		};

		function addExtensionSwitch(uuid, $elem, meta) {
			var $switch = $elem.find('.switch');
			var _state;
			if (meta && meta.state)
			{
				_state = meta.state;
			}
			else
			{
				_state = ExtensionState.UNINSTALLED;
			}

			$elem.find('.configure-button').on('click', function () {
				dbusProxy.LaunchExtensionPrefs(uuid);
			});

			$elem.find('.upgrade-button').on('click', function () {
				let extensionState = $elem.data('state');

				function installExtension() {
					dbusProxy.InstallExtension(uuid).then(function (result) {
						if (result === 'cancelled')
						{
							// WELP. We can't really do anything except leave the
							// thing uninstalled.
							$switch.switchify('activate', false);
						}
						// GNOME Shell bug https://bugzilla.gnome.org/show_bug.cgi?id=777544
						else if (['s', 'successful'].indexOf(result) != -1)
						{
							// It should always became "per user" extension if installed from repository.
							$elem.trigger('type-changed', extensionUtils.ExtensionType.PER_USER);

							// Disable extensions if it was disabled prior to upgrade
							if (extensionState == extensionUtils.ExtensionState.DISABLED)
							{
								dbusProxy.DisableExtension(uuid);
							}
						}
					});
				}

				$elem.removeClass('upgradable');
				if($elem.data('type') == extensionUtils.ExtensionType.PER_USER)
				{
					dbusProxy.UninstallExtension(uuid).then(function (result) {
						// If we weren't able to uninstall the extension, don't
						// do anything more.
						if (!result)
						{
							return;
						}

						installExtension();
					});
				}
				else
				{
					dbusProxy.DisableExtension(uuid).then(function (result) {
						// Install extension if we were able to disable it first
						if(result)
						{
							installExtension();
						}
					});
				}
			});

			$elem.find('.uninstall-button').on('click', function () {
				dbusProxy.UninstallExtension(uuid).then(function (result) {
					if (result)
					{
						if(!$elem.hasClass('single-page'))
						{
							$elem.fadeOut({queue: false}).slideUp({queue: false});
						}
						else
						{
							$elem.removeClass('installed upgradable configurable');
						}
						messages.addInfo(templates.get('extensions/uninstall')(meta));
					}
				});
			});

			if ([ExtensionState.UNINSTALLED, ExtensionState.DOWNLOADING].indexOf(_state) == -1)
			{
				$elem.addClass('installed');
			}

			if(meta.type == extensionUtils.ExtensionType.SYSTEM)
			{
				$elem.addClass('system');
			}

			$elem.data({
				'elem': $elem,
				'state': _state,
				'type': meta.type
			});

			$switch.data('elem', $elem);
			$switch.switchify();

			var svm = meta.shell_version_map || $elem.data('svm');
			var latest = extensionUtils.grabProperExtensionVersion(
				svm,
				dbusProxy.ShellVersion,
				!dbusProxy.VersionValidationEnabled
			);

			if (_state !== ExtensionState.UNINSTALLED && latest !== null &&
				(!meta.version || latest.version > meta.version || _state === ExtensionState.OUT_OF_DATE))
			{
				$elem.addClass('upgradable');
			}

			function sendPopularity(action) {
				$.ajax({
					url: '/ajax/adjust-popularity/',
					type: 'POST',
					data: {
						uuid: uuid,
						action: action
					}
				});
			}

			// When the user flips the switch...
			$switch.on('changed', function (e, newValue) {
				var oldState = $elem.data('state');
				if (newValue)
				{
					if (oldState == ExtensionState.UNINSTALLED)
					{
						// If the extension is uninstalled and we
						// flick the switch on, install.
						dbusProxy.InstallExtension(uuid).then(function (result) {
							if (result === 'succeeded')
							{
								sendPopularity('enable');
							}
							else if (result === 'cancelled')
							{
								$switch.switchify('activate', false);
							}
						});
					}
					else if (oldState == ExtensionState.DISABLED ||
						oldState == ExtensionState.INITIALIZED)
					{
						dbusProxy.EnableExtension(uuid);
						sendPopularity('enable');
					}
				}
				else
				{
					if (oldState == ExtensionState.ENABLED)
					{
						dbusProxy.DisableExtension(uuid);
						sendPopularity('disable');
					}
				}
			});

			// When the extension changes state...
			$elem.on('state-changed', function (e, newState) {
				$elem.data('state', newState);

				var hasPrefs = !!(meta.hasPrefs && newState !== ExtensionState.OUT_OF_DATE);
				$elem.toggleClass('configurable', hasPrefs);

				if (newState == ExtensionState.DISABLED ||
					newState == ExtensionState.INITIALIZED ||
					newState == ExtensionState.UNINSTALLED)
				{
					// Remove customization
					$switch.switchify('customize');
					$switch.switchify('activate', false);
					$elem.removeClass('out-of-date');

					if(newState == ExtensionState.UNINSTALLED && !latest)
					{
						$switch.switchify(
							'customize',
							"INCOMPATIBLE",
							'incompatible',
							"This extension is incompatible with your GNOME Shell version. For GNOME Shell 3.12 " +
							" or newer you can set \"disable-extension-version-validation\" dconf setting to true" +
							" to force installation of incompatible extensions."
						);
					}
				}
				else if (newState == ExtensionState.ENABLED)
				{
					// Remove customization
					$switch.switchify('customize');
					$switch.switchify('activate', true);
					$elem.removeClass('out-of-date');
				}
				else if (newState == ExtensionState.ERROR)
				{
					$switch.switchify('customize', "ERROR", 'error');
				}
				else if (newState == ExtensionState.OUT_OF_DATE)
				{
					$elem.addClass('out-of-date');
					$switch.switchify('customize', "OUTDATED", 'outdated');
				}
			});

			$elem.on('type-changed', function (e, newType) {
				if(newType == extensionUtils.ExtensionType.SYSTEM)
				{
					$elem.addClass('system');
				}
				else
				{
					$elem.removeClass('system');
				}

				$elem.data('type', newType);
			});

			$elem.trigger('state-changed', _state);
			elems[uuid] = $elem;
		}

		$.fn.addLocalExtensions = function () {
			return this.each(function () {
				var $container = $(this);
				dbusProxy.ListExtensions().then(function (extensions) {
					if (extensions && !$.isEmptyObject(extensions))
					{
						var extensionValues = [];
						for (var uuid in extensions)
						{
							extensionValues.push(extensions[uuid]);
						}

						extensionValues.sort(function (a, b) {
							if (a.name === undefined)
							{
								return 0;
							}

							if (b.name === undefined)
							{
								return 0;
							}

							return a.name.localeCompare(b.name);
						});

						extensionValues.forEach(function (extension) {
							var uuid = extension.uuid;

							// Give us a dummy element that we'll replace when
							// rendering below, to keep renderExtension simple.
							var $elem = $('<a>');

							function renderExtension() {
								if (extension.type == extensionUtils.ExtensionType.SYSTEM)
								{
									extension.system = true;
								}

								if (extension.description)
								{
									extension.first_line_of_description = extension.description.split('\n')[0];
								}

								$elem = $(templates.get('extensions/info')(extension)).replaceAll($elem);

								addExtensionSwitch(uuid, $elem, extension);
							}

							$.ajax({
								url: "/ajax/detail/",
								dataType: "json",
								data: {
									uuid: extension.uuid,
									version: extension.version
								},
								type: "GET",
							}).done(function (result) {
								$.extend(extension, result);
								renderExtension();
							}).fail(function (error) {
								// Had an error looking up the data for the
								// extension -- that's OK, just render it anyway.
								renderExtension();
							});

							$container.append($elem);
						});
					}
					else
					{
						$container.append("You don't have any extensions installed.");
					}
				})
			});
		};

		$.fn.fillInErrors = function () {
			return this.each(function () {
				var $form = $(this);
				var uuid = $form.data('uuid');
				var $textarea = $form.find('textarea');
				dbusProxy.GetExtensionInfo(uuid).then(function (meta) {
					dbusProxy.GetErrors($form.data('uuid')).then(function (errors) {
						var context = {
							sv: dbusProxy.ShellVersion,
							ev: (meta && meta.version) ? meta.version : null,
							errors: errors
						};

						$textarea.text(templates.get('extensions/error_report_template')(context));
					});
				});
			});
		};

		$.fn.addExtensionSwitch = function () {
			return this.each(function () {
				var $extension = $(this);
				var uuid = $extension.data('uuid');

				$extension.on('out-of-date', function () {
					var svm = $extension.data('svm');
					var nhvOperation = extensionUtils.findNextHighestVersion(svm, dbusProxy.ShellVersion);
					if (nhvOperation.operation === 'upgrade' &&
						nhvOperation.stability === 'stable')
					{
						messages.addError("This extension is incompatible with your version of GNOME. Please upgrade to GNOME " + nhvOperation.version);
					}
					else if (nhvOperation.operation === 'upgrade' &&
						nhvOperation.stability === 'unstable')
					{
						messages.addError("This extension is incompatible with your version of GNOME. This extension supports the GNOME unstable release, " + nhvOperation.version);
					}
					else if (nhvOperation.operation === 'downgrade')
					{
						messages.addError("This extension is incompatible with your version of GNOME.");
					}
				});

				dbusProxy.GetExtensionInfo(uuid).then(function (meta) {
					addExtensionSwitch(uuid, $extension, meta);
				});
			});
		};

		$.fn.grayOutIfOutOfDate = function () {
			return this.each(function () {
				var $elem = $(this);
				var svm = $elem.data('svm');
				if (!svm)
				{
					return;
				}

				var vpk = extensionUtils.grabProperExtensionVersion(
					svm,
					dbusProxy.ShellVersion,
					!dbusProxy.VersionValidationEnabled
				);
				if (vpk === null)
				{
					$elem.addClass('out-of-date');
				}
			});
		};
	}
);
÷&lVG®      \«è\«ê@NÛw\ ¯˙   B    :https://extensions.gnome.org/static/js/extensions.58a0146828a0.js necko:classified 1 strongly-framed 1 security-info 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 request-method GET response-head HTTP/1.1 200 OK
Server: nginx
Date: Mon, 29 Apr 2019 14:04:43 GMT
Content-Type: application/javascript; charset=utf-8
Content-Length: 15226
Last-Modified: Thu, 06 Dec 2018 16:29:54 GMT
ETag: "5c094e82-3b7a"
Expires: Thu, 02 May 2019 14:04:43 GMT
Cache-Control: max-age=259200
X-Content-Type-Options: nosniff
X-Frame-Options: SAMEORIGIN
X-UA-Compatible: IE=Edge
Accept-Ranges: bytes
 original-response-headers Server: nginx
Date: Mon, 29 Apr 2019 14:04:43 GMT
Content-Type: application/javascript; charset=utf-8
Content-Length: 15226
Last-Modified: Thu, 06 Dec 2018 16:29:54 GMT
ETag: "5c094e82-3b7a"
Expires: Thu, 02 May 2019 14:04:43 GMT
Cache-Control: max-age=259200
X-Content-Type-Options: nosniff
X-Frame-Options: SAMEORIGIN
X-UA-Compatible: IE=Edge
Accept-Ranges: bytes
 uncompressed-len 0 net-response-time-onstart 480 net-response-time-onstop 481   ;z